<div class="header">
    <div class="logo">
        <lucide-icon name="car" color="#16B4DD"></lucide-icon>
    </div>
    <div class="title-box">
        <h3>VagaSmart</h3>
        <div class="txt-header">
            <p>Bem-Vindo de Volta!!</p>
        </div>
    </div>
    <div class="icones">
        <lucide-icon name="Bell" size="18px" class="efeito"></lucide-icon>
        <lucide-icon name="Menu" size="18px" class="efeito"></lucide-icon>
    </div>
</div>


<div class="saldo">
    <fieldset class="normal">
        <p class="disponivel">Saldo disponivel:</p>
        <div class="valor">
            <h2>R$ {{ valor }}</h2>
            <lucide-icon name="dollar-sign" class="icone-dolar" color="black" size="38px"></lucide-icon>
        </div>
        <div class="btn-recarga">
            <button type="submit" class="recarga" (click)="saldoRecarga()"> <lucide-icon name="wallet"></lucide-icon>Recarregar Saldo</button>
        </div>
    </fieldset>
</div>


<div class="estacionamento">
    <fieldset class="pontilhamento">
        <h2 style="color: #aaa; margin-bottom: 12px;">Estacionamentos ativos</h2>
        <div class="cards">
            @if (gateEvent) {
                @for (ge of gateEvent; track $index) {
                    <app-card-dashboard [id]="ge._id"
                    titulo="Estacionamento"
                    [placa]="ge.vehicleId"
                    [condutor]="ge.operatorId"
                    [horario]="ge.timestamp.toString()"></app-card-dashboard>
                }
            } @else {
                <lucide-icon name="Car" class="carro" size="38px"></lucide-icon>
                <p class="branco">Nenhum estacionamento ativo</p>
                <p class="cinza">Encontre uma vaga disponivel no mapa</p>
                <div class="mapa">
                    <button class="botao-mapa" (click)="openModalVaga()">
                        <lucide-icon name="map-pin" class="" size="18px"></lucide-icon> Buscar vaga
                    </button>
                </div>
            }
        </div>
    </fieldset>
</div>

<div class="veiculos">
    <fieldset class="pontilhamento">
        <h2 style="color: #aaa;">Meus Veículos</h2>
        <div class="cards">
            @if (vehicles && vehicles.length > 0) {
                @for (veiculo of vehicles; track $index) {
                    <div class="card-veiculo">
                        <p><b>Modelo:</b> {{ veiculo.model }}</p>
                        <p><b>Placa:</b> {{ veiculo.plate }}</p>
                    </div>
                }
            } @else {
                <p>Nenhum veículo cadastrado.</p>
            }
        </div>
    </fieldset>
</div>

<div class="acesso-rapido">
    <fieldset class="tres" (click)="openModalVaga()">
        <button class="maps"><lucide-icon name="map-pin" class="" size="18px"></lucide-icon>Encontrar vaga</button>
    </fieldset>

    <fieldset class="tres" (click)="openModalVeiculo()">
        <button class="maps"><lucide-icon name="car" class="" size="18px"></lucide-icon>Adicionar carro</button>
    </fieldset>
    <fieldset class="tres" (click)="saldoRecarga()">
        <button class="maps"><lucide-icon name="CreditCard" class="" size="18px"></lucide-icon>Recarregar</button>
    </fieldset>
</div>
<app-footer></app-footer>